name: Test
on: [push]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v2
      - name: Install Haxe ğŸ“¥
        run: ./.github/scripts/install_haxe.sh
      - name: Install Haxe libs ğŸ“š
        run: yes | haxelib install test.hxml
      - name: Run tests â©
        run: haxelib run munit test -coverage -result-exit-code
      - name: Report coverage â˜”
        uses: codecov/codecov-action@v1
        with:
          token: ${{ secrets.CODECOV_TOKEN }}
